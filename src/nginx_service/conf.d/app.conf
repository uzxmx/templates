# vi: ft=nginx
#
# For more information, please visit http://nginx.org/en/docs/.

server {
  listen 80;

  server_name example.com;

  access_log /dev/stdout;
  error_log /dev/stderr;

  root /site;

  location / {
    include /etc/nginx/conf.d/cors.inc;
  }

  location /static/ {
    # `gzip_static` works when there is a gzipped file at the same location with the `.gz` extension suffix.
    #
    # When `gzip_static` is `on`, client needs to specify `Accept-Encoding: gzip` to make the server return the
    # gzipped resource. But when it is `always`, the gzipped resource is always returned no matter whether the
    # client supports it.
    #
    # If the returned resource is gzipped, `Content-Encoding: gzip` header will be present in the response.
    #
    # Ref: http://nginx.org/en/docs/http/ngx_http_gzip_static_module.html
    gzip_static on;
    # gzip_static always;

    expires max;
    add_header Cache-Control public;
  }
}
