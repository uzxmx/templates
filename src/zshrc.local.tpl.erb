# vi: ft=zsh tw=80
<%# Banner for the generated file. -%>
# Generated from ~/.dotfiles/zshrc.local.erb. When you add new changes to this
# file, you may consider if those changes are valuable to go into that original
# source file.

<% is_mac = %x[uname] =~ /Darwin/ -%>
<% is_wsl = %x[uname -r] =~ /Microsoft/ -%>

<% if is_wsl -%>
  <%- windows_username = %x[cmd.exe /c 'echo %USERNAME%' | sed 's/[[:space:]]$//'].chomp -%>
<% end -%>

zsh_utils_cd_path_fn() {
  find ~/projects -maxdepth 1 -type d
  echo ~/go/src/github.com/uzxmx
  <%- if is_wsl -%>
  find /mnt/e/projects -maxdepth 1 -type d
  echo '/mnt/c/Users/<%= windows_username -%>'
  echo '/mnt/c/Users/<%= windows_username -%>/Downloads'
  <%- end -%>
}

<% if is_wsl -%>
PATH=/mnt/e/projects/boxes/bin:$PATH:/mnt/e/VirtualBox
<% end -%>

## Ref: ~/.dotfiles/scripts/proxyctl
# export DEFAULT_HTTP_PROXY=localhost:8123
## Speicify the ips that you don't want to proxy for.
# export NO_PROXY="192.168.1.2,172.17.10.101,localhost"

## Update values with your github tokens.
# export TRAVIS_GITHUB_TOKEN=YOUR_TRAVIS_GITHUB_TOKEN
# export GITHUB_TOKEN=YOUR_GITHUB_TOKEN

## Update values with your aws keys.
## Ref: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html
# export AWS_ACCESS_KEY_ID=YOUR_ACCESS_KEY
# export AWS_SECRET_ACCESS_KEY=YOUR_SECRET_KEY
# export AWS_DEFAULT_REGION=YOUR_REGION

<% if is_mac -%>
export ANDROID_STUDIO_HOME="/Applications/Android Studio.app"
export ANDROID_STUDIO_JAVA_HOME="$ANDROID_STUDIO_HOME/Contents/jre/jdk/Contents/Home"
export ANDROID_SDK_ROOT=~/Library/Android/sdk
<% else -%>
  <%- if is_wsl -%>
export ANDROID_STUDIO_HOME="/mnt/d/android_studio"
export ANDROID_SDK_ROOT="/mnt/c/Users/<%= windows_username -%>/AppData/Local/Android/Sdk"
  <%- else -%>
export ANDROID_STUDIO_HOME=~/android_studio
export ANDROID_SDK_ROOT=~/android-sdk
  <%- end -%>
export ANDROID_STUDIO_JAVA_HOME="$ANDROID_STUDIO_HOME/jre"
<% end -%>

## Set current build tools version to make them in PATH.
## TODO maybe we can set it on the fly when there is only one version available.
# ANDROID_CURRENT_BUILD_TOOLS_VERSION=

if [ -n "$ANDROID_SDK_ROOT" ]; then
  PATH="$ANDROID_SDK_ROOT/platform-tools:$ANDROID_SDK_ROOT/cmdline-tools/tools/bin:$ANDROID_SDK_ROOT/tools/bin:$PATH"
  if [ -n "$ANDROID_CURRENT_BUILD_TOOLS_VERSION" ]; then
    PATH="$ANDROID_SDK_ROOT/build-tools/$ANDROID_CURRENT_BUILD_TOOLS_VERSION:$PATH"
  fi
fi
